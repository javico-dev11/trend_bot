# üìà Crypto Trend Detector

**Detector autom√°tico de tendencias para criptomonedas usando an√°lisis t√©cnico multi-timeframe**

Herramienta profesional en Python que analiza tendencias de mercado en tiempo real utilizando m√∫ltiples indicadores t√©cnicos y temporalidades, ideal para traders de scalping y day trading.

**üÜï NUEVO: Bot de Telegram integrado - Consulta an√°lisis desde tu celular 24/7!**

![Python](https://img.shields.io/badge/python-3.8+-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)
![Status](https://img.shields.io/badge/status-active-success.svg)
![Telegram](https://img.shields.io/badge/telegram-bot-blue.svg)

---

## üéØ Caracter√≠sticas Principales

- ‚úÖ **An√°lisis Multi-Timeframe**: Eval√∫a 4 temporalidades simult√°neamente (5m, 15m, 1h, 4h)
- ‚úÖ **Indicadores T√©cnicos Profesionales**: EMA, RSI, MACD, ADX, ATR
- ‚úÖ **Open Interest Analysis**: Detecta divergencias precio-OI
- ‚úÖ **Sistema de Alertas**: Identifica riesgos cr√≠ticos autom√°ticamente
- ‚úÖ **Niveles de Precio**: Entrada, Stop Loss y Take Profit calculados
- ‚úÖ **Soporte Multi-Exchange**: Bybit, Binance, OKX, KuCoin y m√°s
- ü§ñ **Bot de Telegram**: Consulta an√°lisis desde cualquier lugar
- ‚úÖ **Detecci√≥n de Trampas**: Identifica "bull traps" y "bear traps"
- ‚úÖ **Recomendaciones Inteligentes**: Basadas en an√°lisis de riesgo

---

## üöÄ Modos de Uso

### 1. üíª Modo Terminal (An√°lisis Individual)
```bash
python main.py
```

### 2. ü§ñ Modo Bot de Telegram (24/7)
```bash
python telegram_bot.py
```
**Consulta an√°lisis desde Telegram:**
- `/analizar BTCUSDT` - An√°lisis completo
- `/quick ETHUSDT` - An√°lisis r√°pido
- `/precio BTCUSDT` - Ver precio actual

---

## üì¶ Instalaci√≥n

### Requisitos Previos
- Python 3.8 o superior
- pip (gestor de paquetes de Python)

### 1. Clonar el Repositorio
```bash
git clone https://github.com/tu-usuario/crypto-trend-detector.git
cd crypto-trend-detector
```

### 2. Crear Entorno Virtual (Recomendado)
```bash
# Windows
python -m venv myenv
myenv\Scripts\activate

# Linux/Mac
python3 -m venv myenv
source myenv/bin/activate
```

### 3. Instalar Dependencias
```bash
pip install -r requirements.txt
```

**O instalaci√≥n manual:**
```bash
pip install ccxt pandas numpy
```

---

## üöÄ Uso R√°pido

### An√°lisis B√°sico
```bash
python main.py
```

El programa te pedir√° el s√≠mbolo a analizar:
```
¬øQu√© moneda quieres analizar? (ejemplo: BTC/USDT o BTCUSDT): ETHUSDT
```

### Formatos de S√≠mbolos Aceptados
- `BTC/USDT` (formato est√°ndar)
- `BTCUSDT` (sin barra)
- `BTC` (busca autom√°ticamente pares con USDT)

---

## üìä Ejemplo de Salida

```
üöÄ INICIANDO DETECTOR DE TENDENCIAS CRYPTO
‚úÖ Conectado a BYBIT
‚úÖ 2734 mercados cargados

‚úÖ S√≠mbolo encontrado: BTC/USDT:USDT

============================================================
üìà AN√ÅLISIS MULTI-TIMEFRAME: BTC/USDT:USDT
============================================================

‚è∞ TIMEFRAME: 5m
   Tendencia: üü¢ ALCISTA
   Precio: $42,150.50
   EMA Alineaci√≥n: 4/5
   MACD: ALCISTA
   RSI: 62.45 (ALCISTA)
   ADX: 28.34 (Fuerza: FUERTE)
   Direcci√≥n DI: ALCISTA
   Volatilidad (ATR): 125.4567

‚è∞ TIMEFRAME: 15m
   Tendencia: üü¢ ALCISTA FUERTE
   Precio: $42,150.50
   EMA Alineaci√≥n: 5/5
   MACD: ALCISTA
   RSI: 68.21 (ALCISTA)
   ADX: 35.67 (Fuerza: FUERTE)

‚è∞ TIMEFRAME: 1h
   Tendencia: üü¢ ALCISTA FUERTE
   Precio: $42,145.20
   EMA Alineaci√≥n: 5/5
   MACD: ALCISTA
   RSI: 71.23 (SOBRECOMPRA)
   ADX: 42.18 (Fuerza: FUERTE)

‚è∞ TIMEFRAME: 4h
   Tendencia: üü¢ ALCISTA
   Precio: $42,140.80
   EMA Alineaci√≥n: 4/5
   MACD: ALCISTA
   RSI: 65.89 (ALCISTA)
   ADX: 31.45 (Fuerza: FUERTE)

============================================================
üéØ CONSENSO GENERAL:
   Timeframes analizados: 4
   üü¢ Alcista: 4/4 timeframes
   üî¥ Bajista: 0/4 timeframes
   üü° Lateral: 0/4 timeframes

‚úÖ SE√ëAL FUERTE: Tendencia ALCISTA dominante
   üí° Acci√≥n sugerida: Buscar entradas LONG en retrocesos
============================================================
```

---

## üîß Configuraci√≥n

### Cambiar Exchange
Edita `main.py` en la l√≠nea de inicializaci√≥n:

```python
# Bybit (default)
detector = CryptoTrendDetector(exchange_name='bybit')

# Binance
detector = CryptoTrendDetector(exchange_name='binance')

# OKX
detector = CryptoTrendDetector(exchange_name='okx')

# KuCoin
detector = CryptoTrendDetector(exchange_name='kucoin')
```

### Modificar Timeframes
Edita `crypto_trend_detector.py` en el m√©todo `analyze_multiple_timeframes()`:

```python
# Default
timeframes = ['5m', '15m', '1h', '4h']

# Para day trading
timeframes = ['1m', '5m', '15m', '1h']

# Para swing trading
timeframes = ['1h', '4h', '1d', '1w']
```

### Personalizar Indicadores
Los par√°metros de indicadores se encuentran en el m√©todo `calculate_indicators()`:

```python
# EMAs
df['ema_9'] = df['close'].ewm(span=9, adjust=False).mean()
df['ema_21'] = df['close'].ewm(span=21, adjust=False).mean()

# RSI
delta = df['close'].diff()
gain = (delta.where(delta > 0, 0)).rolling(window=14).mean()

# Modifica los per√≠odos seg√∫n tu estrategia
```

---

## üìñ Interpretaci√≥n de Resultados

### üü¢ Tendencia ALCISTA
- **Se√±al fuerte**: 75% o m√°s de los timeframes son alcistas
- **Acci√≥n**: Buscar entradas LONG en retrocesos a soportes
- **Stop Loss**: Por debajo de EMAs o √∫ltimo m√≠nimo significativo

### üî¥ Tendencia BAJISTA
- **Se√±al fuerte**: 75% o m√°s de los timeframes son bajistas
- **Acci√≥n**: Buscar entradas SHORT en rebotes a resistencias
- **Stop Loss**: Por encima de EMAs o √∫ltimo m√°ximo significativo

### üü° Tendencia LATERAL
- **Sin consenso**: Timeframes mixtos o ADX d√©bil (<20)
- **Acci√≥n**: Operar rangos o esperar confirmaci√≥n
- **Estrategia**: Break-out o rebotes en extremos del rango

### Niveles de RSI
- **> 70**: Sobrecompra (posible correcci√≥n)
- **50-70**: Alcista saludable
- **30-50**: Bajista saludable
- **< 30**: Sobreventa (posible rebote)

### Fuerza de ADX
- **< 20**: Tendencia d√©bil o lateral
- **20-25**: Tendencia moderada
- **> 25**: Tendencia fuerte

---

## üìÅ Estructura del Proyecto

```
crypto-trend-detector/
‚îÇ
‚îú‚îÄ‚îÄ main.py                      # Script principal ejecutable
‚îú‚îÄ‚îÄ crypto_trend_detector.py     # Clase principal con toda la l√≥gica
‚îú‚îÄ‚îÄ requirements.txt             # Dependencias del proyecto
‚îú‚îÄ‚îÄ README.md                    # Este archivo
‚îÇ
‚îú‚îÄ‚îÄ myenv/                       # Entorno virtual (no incluir en git)
‚îÇ
‚îî‚îÄ‚îÄ .gitignore                   # Archivos a ignorar en git
```

---

## üõ†Ô∏è API de la Clase Principal

### `CryptoTrendDetector`

#### Constructor
```python
detector = CryptoTrendDetector(exchange_name='bybit')
```

#### M√©todos Principales

**`get_ohlcv_data(symbol, timeframe, limit)`**
```python
df = detector.get_ohlcv_data('BTC/USDT', '15m', limit=200)
# Retorna: DataFrame con OHLCV data
```

**`calculate_indicators(df)`**
```python
df_with_indicators = detector.calculate_indicators(df)
# Retorna: DataFrame con EMAs, RSI, MACD, ADX, ATR
```

**`identify_trend(df)`**
```python
trend_info = detector.identify_trend(df)
# Retorna: Dict con an√°lisis completo de tendencia
```

**`analyze_multiple_timeframes(symbol)`**
```python
results = detector.analyze_multiple_timeframes('ETH/USDT')
# Retorna: Dict con an√°lisis de cada timeframe
```

---

## üí° Casos de Uso

### 1. Scalping (5m - 15m)
```python
# Buscar alineaci√≥n de EMAs en 5m
# Confirmar con 15m antes de entrar
# RSI entre 40-60 para entradas
# ADX > 25 para confirmar fuerza
```

### 2. Day Trading (15m - 1h)
```python
# Tendencia principal en 1h
# Entradas en 15m en retrocesos
# MACD como confirmaci√≥n adicional
# Stop loss basado en ATR
```

### 3. Swing Trading (1h - 4h - 1d)
```python
# Direcci√≥n en 1d
# Setup en 4h
# Entrada precisa en 1h
# Targets en resistencias mayores
```

---

## ‚ö†Ô∏è Limitaciones y Consideraciones

### Monedas Nuevas
- Criptos reci√©n listadas pueden tener menos de 50 velas en timeframes grandes
- El sistema se adapta autom√°ticamente y analiza solo los timeframes disponibles
- Mensaje informativo: `‚ö†Ô∏è Datos insuficientes para an√°lisis confiable`

### Rate Limits
- Los exchanges tienen l√≠mites de peticiones por minuto
- CCXT maneja esto autom√°ticamente con `enableRateLimit: True`
- Para an√°lisis masivos, considera implementar delays

### Datos en Tiempo Real
- Los datos tienen un retraso de ~1 segundo
- Para trading de alta frecuencia, considera WebSockets

---

## üîê Seguridad

### API Keys (Para funciones avanzadas)
Si planeas implementar trading autom√°tico:

```python
exchange = ccxt.bybit({
    'apiKey': 'TU_API_KEY',
    'secret': 'TU_SECRET',
    'enableRateLimit': True,
})
```

**‚ö†Ô∏è IMPORTANTE:**
- Nunca compartas tus API keys
- Usa archivos `.env` para credenciales
- Activa solo permisos de lectura si no vas a operar
- Limita IPs de acceso en el exchange

---

## ü§ù Contribuciones

Las contribuciones son bienvenidas! Para contribuir:

1. Fork el proyecto
2. Crea una rama para tu feature (`git checkout -b feature/AmazingFeature`)
3. Commit tus cambios (`git commit -m 'Add: nueva funcionalidad'`)
4. Push a la rama (`git push origin feature/AmazingFeature`)
5. Abre un Pull Request

### Ideas para Contribuir
- [ ] Soporte para m√°s indicadores (Bollinger Bands, Ichimoku)
- [ ] Exportar an√°lisis a CSV/JSON
- [ ] Alertas por Telegram/Discord
- [ ] Dashboard web con Streamlit
- [ ] Backtesting hist√≥rico
- [ ] Machine Learning para predicciones

---

## üìù Changelog

### v1.0.0 (2025-01-15)
- ‚úÖ An√°lisis multi-timeframe inicial
- ‚úÖ Soporte para 7 indicadores t√©cnicos
- ‚úÖ Compatibilidad con m√∫ltiples exchanges
- ‚úÖ Manejo robusto de monedas nuevas
- ‚úÖ B√∫squeda inteligente de s√≠mbolos

---

## üìÑ Licencia

Este proyecto est√° bajo la Licencia MIT - ver el archivo [LICENSE](LICENSE) para m√°s detalles.

---

## ‚ö° Roadmap

- [ ] **v1.1**: Alertas autom√°ticas por Telegram
- [ ] **v1.2**: Dashboard web interactivo
- [ ] **v1.3**: Backtesting engine
- [ ] **v1.4**: Machine Learning integration
- [ ] **v2.0**: Trading bot autom√°tico (con aprobaci√≥n manual)

---

## üìû Soporte

¬øProblemas o preguntas?

- üìß Email: tu-email@ejemplo.com
- üêõ Issues: [GitHub Issues](https://github.com/tu-usuario/crypto-trend-detector/issues)
- üí¨ Telegram: @tu_usuario

---

## ‚öñÔ∏è Disclaimer

**ADVERTENCIA**: Esta herramienta es solo para fines educativos e informativos. 

- ‚ùå No es asesoramiento financiero
- ‚ùå El trading de criptomonedas conlleva riesgos significativos
- ‚ùå Puedes perder todo tu capital
- ‚úÖ Siempre practica primero en cuentas demo
- ‚úÖ Nunca inviertas m√°s de lo que puedas permitirte perder
- ‚úÖ Investiga y forma tu propia estrategia

El autor no se hace responsable de p√©rdidas financieras derivadas del uso de esta herramienta.

---

## üåü Agradecimientos

- [CCXT](https://github.com/ccxt/ccxt) - Librer√≠a incre√≠ble para conectar exchanges
- [Pandas](https://pandas.pydata.org/) - An√°lisis de datos en Python
- [NumPy](https://numpy.org/) - Computaci√≥n num√©rica
- Comunidad de traders que comparten conocimiento abiertamente

---

**Hecho con ‚ù§Ô∏è para la comunidad de traders**

*"El mejor momento para plantar un √°rbol fue hace 20 a√±os. El segundo mejor momento es ahora." - Proverbio chino*

---

### üöÄ Quick Start
```bash
git clone https://github.com/tu-usuario/crypto-trend-detector.git
cd crypto-trend-detector
python -m venv myenv
source myenv/bin/activate  # En Windows: myenv\Scripts\activate
pip install -r requirements.txt
python main.py
```

**¬°Empieza a analizar el mercado en menos de 2 minutos!** üìà